@@include('../../../inc/mo/pagehead.inc', {
	"webroot": "../../..",
	"pagetitle": "유한킴벌리 | 회원가입",
	})
</head>
	
<body>
<div class="sso_wrap">
	<!-- header -->
	@@include('../../../inc/mo/header.inc', {
	"webroot": "../../..",
	"headertype": "",
	"logotype": "",
	})
	<!-- //header -->
	<div id="container" class="contents">
		<div class="row">
			<div class="join_wrap ">
				<h1><span>회원정보 입력 및 이용약관에</span>동의해주세요.</h1>
				<!-- 필수 정보 입력 -->
				<form name="join_form" method="POST" action="/account/join">
					<input type="hidden" name="_token" value="">
					<input type="hidden" name="identifier_ci" value="/MFp4CG7wo9Sr+CpWGarRwwGHWxblA=="/>
					<input type="hidden" name="identifier_di" value="/mjb/MC4tqoxVtsrxeCyrKePWoBtOSct/I="/>
					<input type="hidden" name="gender" value="W"/>
					<input type="hidden" name="join_device" value="M"/>
					<input type="hidden" name="join_channel" value="YKBRAND"/>
					<input type="hidden" name="join_brand" value="YKBRAND"/>
					<input type="hidden" name="join_sub_brand" value=""/>
					<input type="hidden" name="useExistId" value="N"/>
					<div class="join_form">
						<h2 class="h2_ti">필수 정보 입력</h2>
						<p class="desc">
							(*)는 필수 입력 사항입니다.
						</p>
						<ul class="input_frm">
							<li>
								<p class="ti">이름*</p>
								<p class="put">
									<input type="text" name="name" value="" readonly>
								</p>
							</li>
							<li>
								<p class="ti">아이디*</p>
								<p class="put put_id">
									<input type="text" name="userid" value="" minlength="4" maxlength="12" placeholder="4~12자, 영문 및 숫자" class="" autocomplete="off">
									<a href="javascript:;" class="btn btn_small btn_idchk">중복확인</a>
								</p>
								<span class="errtx js-idIsInvalid" style="display:none;"></span>
							</li>
							<li>
								<p class="ti">비밀번호*</p>
								<p class="put masking">
									<input type="password" name="password" value="" minlength="8" maxlength="20" placeholder="8~20자, 영문/숫자/특수문자 조합" class="" autocomplete="off">
									<button type="button" class="btn_masking"><i class="ic_hide"></i></button>
								</p>
							</li>
							<li>
								<p class="ti">비밀번호 확인*</p>
								<p class="put masking">
									<input type="password" name="password_confirmation" value="" maxlength="20" placeholder="비밀번호를 다시 입력해주세요." class="" autocomplete="off">
									<button type="button" class="btn_masking"><i class="ic_hide"></i></button>
								</p>
							</li>
							<li>
								<p class="ti">휴대폰 번호*</p>
								<p class="put">
									<input type="hidden" name="mobile" value=""/>
									<input type="text" name="text_mobile" value="" readonly/>
								</p>
							</li>
							<li class="email">
								<p class="ti">이메일*</p>
								<input type="hidden" name="email" value=""/>
								<p class="put">
									<input type="text" name="email_id" value="" class=""> @ <input type="text" name="email_host" value="" class="">
								</p>
								<p class="put full">
									<select class="email" name="select_email">
										<option value="">직접입력</option>
										<option value="naver.com">naver.com</option>
										<option value="hanmail.net">hanmail.net</option>
										<option value="daum.net">daum.net</option>
										<option value="nate.com">nate.com</option>
										<option value="gmail.com">gmail.com</option>
										<option value="hotmail.com">hotmail.com</option>
										<option value="chol.com">chol.com</option>
									</select>
								</p>
							</li>
							<li class="privacy_info" !style="display:none;">
								<p class="ti">생년월일</p>
								<p class="put col3">
									<span><input type="text" name="birth_year" value="1981" maxlength="4" readonly/></span>
									<span>년</span>
								</p>
								<p class="put col3">
									<span><input type="text" name="birth_month" value="06" maxlength="2" readonly/></span>
									<span>월</span>
								</p>
								<p class="put col3">
									<span><input type="text" name="birth_day" value="22" maxlength="2" readonly/></span>
									<span>일</span>
								</p>
							</li>
							<li class="privacy_info" style="display:none;">
								<p class="ti">성별</p>
								<p class="put">
									<input type="text" value="여자" readonly>
								</p>
							</li>
						</ul>

						<!-- 선택 정보 입력 -->
						<!-- 202311 회원가입 개선 : 타이틀 변경 및 서브텍스트 추가 -->
						<h2 class="h2_ti">가입 혜택 정보 입력(선택 정보)</h2>
						<p class="desc">선택 입력 사항으로 입력 시 혜택을 받으실 수 있습니다.</p>
						<!--// 202311 회원가입 개선 : 타이틀 변경 및 서브텍스트 추가 -->
						<div class="etc_frm">
							<!-- 맘큐, POME, 모닛 유입시 -->
							<h3 class="h3_ti">아이정보 입력</h3>
							<div class="select_chk child_input">
								<!-- 202311 회원가입 개선 : 삭제
									<span class="esse">
									<i class="tag">혜택안내</i>
									아이정보를 입력하고 맘큐 이벤트 참여, 월령별 맞춤 혜택을 받으세요.
								</span> -->
								<p class="rchk">
									<input type="radio" name="childYN" id="child01" value="Y" checked="">
									<label for="child01">아이 있음 (임산부 포함)</label>
									<!-- 202311 회원가입 개선 : 툴팁 추가 //-->
									<span class="tooltiptext tooltip-bottom">아이정보 입력 시 맘큐 혜택 제공</span>
								</p>
								<p class="rchk">
									<input type="radio" name="childYN" id="child02" value="N">
									<label for="child02">아이 없음</label>
								</p>
							</div>
							<!-- 맘큐, POME, 모닛 유입시 -->
						</div>
						<!-- 맘큐, POME, 모닛 유입시 -->
						<!-- 아이추가 영역 -->
						<div class="childadd" !style="display:none;">
							<div class="addbtnwrap">
								<a href="javascript:;" class="btn_areadd"><span>아이추가</span></a>
								<ul class="addlist">
									<li class="action_child_add" data-child="1"><a href="javascript:;">아이추가</a></li>
									<li class="action_child_add" data-child="2"><a href="javascript:;">쌍둥이 추가</a></li>
									<li class="action_child_add" data-child="3"><a href="javascript:;">세쌍둥이 추가</a></li>
									<li class="action_child_add" data-child="4"><a href="javascript:;">네쌍둥이 추가</a></li>
								</ul>
							</div>
						</div>
						<!--// 아이추가 영역 -->
						<ul class="terms_chk _child" !style="display:none;">
							<li>
								<p>
									<input type="hidden" name="momq_children_info_agree" value="N">
									<input type="checkbox" name="chk_momq_children_info_agree" id="childck01">
									<label for="childck01"><span class="sel">(선택)</span> 개인정보 수집이용 동의</label>
								</p>
								<a href="javascript:;" class="btn_vw openLayer" data-hash="#momq_children_info_agree_layer">보기</a>
							</li>
						</ul>

						<!-- 추천인 검색 -->
						<!-- 202311 : 회원가입 개선 > 마크업 수정 및 툴팁 추가 -->
						<div class="recom">
							<h3 class="h3_ti">추천인 입력</h3>
							<p>
								<span class="ti">추천인 ID</span>
								<input type="text" name="recommender_code" value="" placeholder=" 추천인 ID 입력 시 포인트 2천원을 드립니다. " class="openLayer" data-hash="#recommidLayer" readonly="">
								<button type="button" class="btn btn_small openLayer" data-hash="#recommidLayer">검색</button>
							</p>
							<span class="tooltiptext tooltip-bottom">추천인 ID/회원번호 입력 시 포인트 제공</span>
						</div>
						<div class="recom-noti">
							<dl>
								<dd>PC 또는 모바일에서 [뒤로가기]를 할 경우 현재 추천인 입력 화면이 사라지는 점 유의하시기 바랍니다.</dd>
								<dd>카카오를 통해 가입한 회원의 경우 추천인 입력을 하지 못했을 시 [회원정보수정] 화면에서 24시간 이내로 추천인 입력이 가능합니다.</dd>
							</dl>
						</div>
						<!--// 202311 : 회원가입 개선 > 마크업 수정 및 툴팁 추가 -->
						<!--// 추천인 검색 -->

						<!-- 202311 : 회원가입 개선 > 약관 동의 위치 변경 //-->
						<h2 class="h2_ti">약관 동의</h2>
						<p class="desc">
							이용약관 및 정보활용 안내를 읽고 동의해주세요.
						</p>
						<ul class="terms_chk">
							<li class="first">
							<p>
								<input type="checkbox" name="allchk" id="allchk">
								<label for="allchk">모두 동의합니다.</label>
							</p>
							<p class="txt">
								전체동의는 필수 뿐 아니라 선택항목도 포함됩니다. 선택항목 미동의 시 회원가입은 가능하나 서비스 이용에 제한이 있을 수 있습니다.
							</p>
							</li>
							<li>
							<p>
								<input type="hidden" name="sso_terms_agree" value=" N ">
								<input type="checkbox" name="chk_sso_terms_agree" class=" required " id="termsNo1" data-id="1">
								<label for="termsNo1">
								<span class="in">
								<span class=" esse "> (필수) </span> 유한킴벌리 통합회원 이용약관 </span>
								</label>
							</p>
							<a href="javascript:;" class="btn_vw openLayer" data-hash="#sso_terms_agree_layer">보기</a>
							</li>
							<li>
							<p>
								<input type="hidden" name="ykbrand_terms_agree" value=" N ">
								<input type="checkbox" name="chk_ykbrand_terms_agree" class=" required " id="termsNo11" data-id="11">
								<label for="termsNo11">
								<span class="in">
								<span class=" esse "> (필수) </span> 통합브랜드 이용약관 </span>
								</label>
							</p>
							<a href="javascript:;" class="btn_vw openLayer" data-hash="#ykbrand_terms_agree_layer">보기</a>
							</li>
							<li>
							<p>
								<input type="hidden" name="sso_privacy_agree" value=" N ">
								<input type="checkbox" name="chk_sso_privacy_agree" class=" required " id="termsNo2" data-id="2">
								<label for="termsNo2">
								<span class="in">
								<span class=" esse "> (필수) </span> 개인정보 수집 및 이용 </span>
								</label>
							</p>
							<a href="javascript:;" class="btn_vw openLayer" data-hash="#sso_privacy_agree_layer">보기</a>
							</li>
							<li>
							<p>
								<input type="hidden" name="sso_privacy_service_agree" value=" N ">
								<input type="checkbox" name="chk_sso_privacy_service_agree" class="" id="termsNo25" data-id="25">
								<label for="termsNo25">
								<span class="in">
								<span class=" sel "> (선택) </span> 맞춤 서비스 제공을 위한 개인정보 수집 및 이용 </span>
								</label>
							</p>
							<a href="javascript:;" class="btn_vw openLayer" data-hash="#sso_privacy_service_agree_layer">보기</a>
							</li>
							<li>
							<p>
								<input type="hidden" name="ykbrand_ad_receive_agree" value=" N ">
								<input type="checkbox" name="chk_ykbrand_ad_receive_agree" class="" id="termsNo16" data-id="16">
								<label for="termsNo16">
								<span class="in">
								<span class=" sel "> (선택) </span>
								<strong>광고성 정보 수신 동의</strong>
								</span>
								</label>
							</p>
							<div class="select_chk YKBRAND">
								<span>이벤트/쇼핑혜택/신제품 소식을 받아보세요.</span>
								<p class="rchk">
									<input type="hidden" name="YKBRAND_adinfo_receive_SMS" value=" N ">
									<input type="checkbox" name="chk_YKBRAND_adinfo_receive_SMS" id="rchk_SMS_YKBRAND">
									<label for="rchk_SMS_YKBRAND">
									SMS 수신 </label>
								</p>
								<p class="rchk">
									<input type="hidden" name="YKBRAND_adinfo_receive_EMAIL" value=" N ">
									<input type="checkbox" name="chk_YKBRAND_adinfo_receive_EMAIL" id="rchk_EMAIL_YKBRAND">
									<label for="rchk_EMAIL_YKBRAND">
									이메일 수신 </label>
								</p>
								<dl>
									<dd><span> 회원님께 드리는 이벤트/할인혜택/상품 등의 정보 수신에 동의해주세요.</span></dd>
									<dd><span> 첫 구매 축하쿠폰은 첫 구매 1주 후에 지급되며, 광고성 정보 수신 비동의하시면 발송되지 않습니다.</span></dd>
								</dl>
							</div>
							</li>
						</ul>
					</div>
					<!-- join_form -->
				</form>
				<div class="btnwrap btn_foo">
					<a href='javascript:;' onclick="formSubmit();" class="btn btn_next">다음</a>
				</div>
			</div>
			<!-- 맘큐, POME, 모닛 유입시 -->
		</div>
		<!-- 맘큐, POME, 모닛 유입시 -->
		<!-- 맘큐, POME, 모닛 유입시 -->
		<!-- 회원 가입시 필요한 Layer-->
		<!-- 추천인 ID 검색 레이어  -->
		<div class="layerbody" id="recommidLayer">
			<div class="layerwrap recommidlay">
				<a class="btn_close recommidLayer_close"><span class="a11y_sr-only">close</span></a>
				<div class="layhead">
					<p>
						추천인 ID 검색
					</p>
				</div>
				<div class="layconts">
					<span class="noti">
					추천인의 <b>ID를 알고 계시면 추천인 ID로 검색</b>, 추천인이 <b>카카오로 가입하신 회원이라면 회원번호로 검색</b>, <b>ID또는 회원번호를 알 수 없으면 회원정보로 검색 버튼</b>을 눌러주세요. <br>
					(카카오로 가입 하신 경우 회원정보변경에서 회원번호를 확인하실 수 있습니다.) </span>
					<div class="select_chk">
						<p class="rchk">
							<input type="radio" id="sch01" name="type" value="id" checked><label for="sch01">아이디로 검색</label>
						</p>
						<p class="rchk">
							<input type="radio" id="sch03" name="type" value="number"><label for="sch03">회원 번호로 검색</label>
						</p>
						<p class="rchk">
							<input type="radio" id="sch02" name="type" value="info"><label for="sch02">회원 정보로 검색</label>
						</p>
					</div>
					<ul class="putfrm idsch">
						<li>
							<p class="name">
								<span class="esse">*</span>아이디
							</p>
							<p class="put">
								<input class="recommed_input" type="text" name="userid" placeholder="추천인 아이디를 입력해주세요.">
							</p>
						</li>
					</ul>
					<ul class="putfrm usersch hid">
						<li>
							<p class="name">
								<span class="esse">*</span>이름
							</p>
							<p class="put">
								<input class="recommed_input" type="text" name="name" placeholder="추천인 이름을 입력해주세요.">
							</p>
						</li>
						<li>
							<p class="name">
								<span class="esse">*</span>휴대폰 번호
							</p>
							<p class="put">
								<input class="recommed_input" type="text" name="mobile" placeholder="-를 제외한 숫자만 입력해주세요.">
							</p>
						</li>
						<li class="noti">- 추천인이 유한킴벌리 카카오 통합회원인 경우 ID가 아닌 회원번호로 안내되니 참고 부탁드립니다.</span></li>
						<li class="noti">- 추천인이 유한킴벌리 카카오 통합회원인 경우 회원번호로 검색하면 더 쉽고 빠르게 찾을 수 있습니다.</span></li>
					</ul>
					<ul class="putfrm numsch hid">
						<li>
						<p class="name">
							<span class="esse">*</span>회원번호
						</p>
						<p class="put">
							<input class="recommed_input" type="text" name="usernum" placeholder="회원 번호를 입력해주세요.">
						</p>
						</li>
						<li class="noti">- 회원번호는 유한킴벌리 카카오 통합회원만 확인이 가능하며, 마이페이지 또는 회원정보수정에서 확인할 수 있습니다.</span></li>
					</ul>
					<div class="btnwrap">
						<a href="javascript:;" class="btn btnfull recommender_search">검색</a>
					</div>
					<div class="result" style="display:none">
						<ul class="putfrm">
							<li>
							<p class="name">
								아이디
							</p>
							<p class="put none">
								일치하는 정보가 없습니다.
							</p>
							<p class="put recommender-error" style="color:#e63c4f; font-size:14px;">
							</p>
							<p class="put search" style="display:none">
								<span class="dp_text"></span>
								<input type="hidden" name="recommender_userid" value="">
								<input type="hidden" id="site_code" name="site_code" value="">
								<input type="hidden" name="is_multi" value="N">
								<span><a href="javascript:;" class="btn btnmedium recommender_choice" style="float:right">선택</a></span>
							</p>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<!--// 추천인 ID 검색 레이어  -->
		<script>
    $(document).on('keypress', '.recommed_input', function(e) {
        if (e.keyCode == 13) {
            $('.recommender_search').click();
        }
    });
    //추천인 관련 스크립트
    $(document).on('click', '.openLayer', function() {
        var hash = $(this).data('hash');
        var isMulti = $(this).data('is_multi') ? $(this).data('is_multi') : 'N';
        var siteCode = $(this).data('site_code');
        //IOS 앱에서 스크롤락이 안먹혀서 false 로 ...처리
            layer.scrollLock = false;
        layer.open(hash, function() {
            var layer = $('#recommidLayer');
            $('input[name="userid"]', layer).val('');
            $('input[name="name"]', layer).val('');
            $('input[name="mobile"]', layer).val('');
            $('input[name="usernum"]', layer).val('');
            $('input[name="site_code"]', layer).val(siteCode);
            $('input[name="is_multi"]', layer).val(isMulti);
            $('.result .search .dp_text', layer).text('');
            $('.result', layer).hide();
        });
    });
    if($('.recommidlay').length > 0) {
        $('.recommidlay').find('#sch02').click(function() {
            if($(this).is(":checked")) {
                $('.recommidlay').find('.idsch').addClass('hid');
                $('.recommidlay').find('.usersch').removeClass('hid');
                $('.recommidlay').find('.numsch').addClass('hid');
            }
        });
        $('.recommidlay').find('#sch01').click(function() {
            if($(this).is(":checked")) {
                $('.recommidlay').find('.idsch').removeClass('hid');
                $('.recommidlay').find('.usersch').addClass('hid');
                $('.recommidlay').find('.numsch').addClass('hid');
            }
        });
        $('.recommidlay').find('#sch03').click(function() {
            if($(this).is(":checked")) {
                $('.recommidlay').find('.idsch').addClass('hid');
                $('.recommidlay').find('.usersch').addClass('hid');
                $('.recommidlay').find('.numsch').removeClass('hid');
            }
        });
    }
    //추천인 검색
    $(document).on('click', '.recommender_search', function() {
        var layer = $('#recommidLayer');
        var type = $('input:radio[name="type"]:checked', layer).val();
        var userid = $('input[name="userid"]', layer).val();
        var name = $('input[name="name"]', layer).val();
        var mobile = $('input[name="mobile"]', layer).val();
        var usernum = $('input[name="usernum"]', layer).val();
        var siteCode = $('input[name="site_code"]', layer).val();
        $('.result', layer).hide();
        $('.result .search .dp_text', layer).text('');
        $.ajax({
            url: '/account/recommender',
            type: 'post',
            dataType: 'json',
            data: {
                '_token': '0Toys8YvhsTKZvogE05ItjRDAnyyXSgpSzPMC9pL',
                'type': type,
                'userid': userid,
                'name': name,
                'mobile': mobile,
                'usernum': usernum,
                'site_code': siteCode,
            },
            success: function(res) {
                $('.result', layer).show();
                $('.result .put', layer).hide();
                $('.result .search', layer).show();
                $('.result .search .dp_text', layer).text(res.dp_text);
                $('.result .search input[name=recommender_userid]', layer).val(res.userid);
            }, 
            error: function(res) {
                console.log(res);
                alert(res.responseJSON.messages);
                // alert('SSO회원이 아니거나 휴면 계정인 경우 추천인 ID로 입력 할 수 없습니다. 다시 확인 후 입력해주세요.');
                // var errors = res.responseJSON;
                // $('.result', layer).show();
                // if (errors.errorType == 'recommender') {
                //     $('.result .recommender-error', layer).text(errors.messages).show();
                //     $('.result .none', layer).hide();
                // } else {
                //     $('.result .recommender-error', layer).hide();
                //     $('.result .none', layer).show();
                // }
                // $('.result .search', layer).hide();
            }
        });
    });
    //추천인 검색 방식 
    $(document).on('click', '#recommidLayer input:radio[name="type"]', function() {
        var layer = $('#recommidLayer');
        $('input[name="userid"]', layer).val('');
        $('input[name="name"]', layer).val('');
        $('input[name="mobile"]', layer).val('');
        $('.result', layer).hide();
        $('.result .search .dp_text', layer).text('');
    });
    //추천인 선택
    $(document).on('click', '.recommender_choice', function() {
        var rlayer = $('#recommidLayer');
        var preStr = $('input[name="is_multi"]', rlayer).val() == 'Y' ? $('input[name="site_code"]', rlayer).val()+'_' : '';
        $('input[name="'+preStr+'recommender_code_text"]').val($('.result .search .dp_text', rlayer).text());
        $('input[name="'+preStr+'recommender_code"]').val($('.result .search input[name=recommender_userid]', rlayer).val());
        $('input[name="userid"]', rlayer).val('');
        $('input[name="name"]', rlayer).val('');
        $('input[name="mobile"]', rlayer).val('');
        $('.result', rlayer).hide();
        layer.close('#recommidLayer');
    });
		</script>
		<!-- 약관 Layer -->
		@@include('../../../inc/mo/terms.inc', {}) 
		<!--// 약관 Layer -->
		<!-- 회원 가입시 필요한 Layer-->
		<!-- <script type="text/javascript" src="/js/childs.js?v=1.1.1"></script> -->
		<script type="text/javascript">
			var siteCodeNames = { YKBRAND: '통합브랜드', MOMQ: '맘큐', MYGF: '달다방', TDPLUS: '오늘플러스'};
			var errorMessage = '';
			if ($('input[name="childYN"]').length > 0 && $('input[name="childYN"]:checked').val() == 'Y') {
					$('.terms_chk._child').show();
			}
			if(!$('[name=recommender_code_text]').val() || !$('[name=recommender_code]').val()){
					$('[name=recommender_code_text]').val('');
					$('[name=recommender_code]').val('');
			}
			// 마케팅 목적 이용을 동의해야 광고성 정보 수신 동의가 가능하다.
			function adInfoReceiveAgreeValidate(siteCode) {
					var requiredBundleEl = $('input[name="chk_' + siteCode + '_marketing_agree"]');
					if (requiredBundleEl && ! requiredBundleEl.is(':checked')) {
							return false;
					}
					return true;
			}
			function alertAdInfoReceiveAgreeValidate(siteCode, checked) {
					// if (checked && ! adInfoReceiveAgreeValidate(siteCode)) {
					//     alert("광고성 정보 (SMS/이메일/PUSH) 수신 동의시에는\n" + siteCodeNames[siteCode.toUpperCase()] + ' 마케팅 목적 이용 항목(선택항목)도 같이 동의하셔야 합니다.');
					//     return false;
					// }
					return true;
			}
			$(document).ready(function() {
					if (errorMessage != '') {
							alert(errorMessage);
					}
					//user id check
					$(document).on('click', '.btn_idchk', function() {
							var userid = $('input[name="userid"]').val();
							$.ajax({
									url: '/account/existId',
									type: 'post',
									dataType: 'json',
									data: {
											'_token': '0Toys8YvhsTKZvogE05ItjRDAnyyXSgpSzPMC9pL',
											'userid': userid,
									}, 
									success: function(res) {
											$('.js-idIsInvalid').removeClass('errtx').addClass('esse').html('사용할 수 있는 아이디입니다.').show();
											$('input[name="useExistId"]').val('Y');
									}, 
									error: function(res) {
											var errors = res.responseJSON;
											$('.js-idIsInvalid').html('').show();
											$('.js-idIsInvalid').removeClass('esse').addClass('errtx').html(errors.messages);
									}
							});
					});
				//password check
					$(document).on('blur', 'input[name="password"]', function() {
							if ($(this).val() != '') {
									if (checkPasswordPattern($.trim($(this).val())) == false) {
											$(this).val('').focus();
											alert("비밀번호는 8자리 이상 문자, 숫자, 특수문자로 구성하여야 합니다.");
											return false;
									}
									if (checkPasswordPatternComp($.trim($(this).val()), $.trim($('[name="userid"]').val())) == false) {
											$(this).val('').focus();
											alert('아이디와 3자리 이상 중복값 및 4자리 이상의 연속되는 숫자는 사용이 불가합니다.');
											return false;
									}
							}
							return false;
					});
					//privacy info
					$('input[name="chk_sso_privacy_service_agree"]').change(function() {
							if ($(this).is(':checked')) {
									$('.privacy_info').show();
							} else {
									$('.privacy_info').hide();
							}
					});
					//email host select reset
					$(document).on('keyup blur', 'input[name="email_host"]', function() {
							$('select[name="select_email"]').find('option:eq(0)').prop('selected', true);
					});
					//email host select
					$(document).on('change', 'select[name="select_email"]', function() {
							$('input[name="email_host"]').val($(this).val())
					});
					//약관동의 전체 선택
					$(document).on('click', '#allchk', function() {
							if ($(this).is(':checked')) {
									$('.terms_chk input[type="checkbox"]').prop('checked', true);
									$('.terms_chk input[type="hidden"]').val('Y');
							} else {
									$('.terms_chk input[type="checkbox"]').prop('checked', false);
									$('.terms_chk input[type="hidden"]').val('N');
							}
					});
					$(document).on('click', 'input[name="chk_momq_ad_receive_agree"], input[name="chk_tdplus_ad_receive_agree"], input[name="chk_ykbrand_ad_receive_agree"], input[name="chk_mygf_ad_receive_agree"]', function () {
							var check = $(this).is(':checked');
							var siteCode = $(this).attr('name').substring(4).replace('_ad_receive_agree', '').toLowerCase();
							if (! alertAdInfoReceiveAgreeValidate(siteCode, check)) {
									$(this).prop('checked', !check);
									return false;
							}
							$.each($('.select_chk.' + siteCode.toUpperCase() + ' input[type="checkbox"]'), function() {
									$(this).prop('checked', check);
							}); 
					});
					//광고 정보 수신동의 전체 수신
					$(document).on('click', '.select_chk input[type="checkbox"]', function(e) {
							var siteCode = $(this).attr('name').substring(4).replace(/_adinfo_receive_(.*)/, '').toLowerCase();
							var adReceiveAgreeChecked = false;
							$.each($('.select_chk.'+ siteCode.toUpperCase() +' input[type="checkbox"]'), function() {
									if (adReceiveAgreeChecked == false) {
											adReceiveAgreeChecked = $(this).is(':checked');
									}
							}); 
							if (! alertAdInfoReceiveAgreeValidate(siteCode, adReceiveAgreeChecked)) {
									$(this).prop('checked', !adReceiveAgreeChecked);
									return false;
							}
							$('input[name="chk_' + siteCode + '_ad_receive_agree"]').prop('checked', adReceiveAgreeChecked);
							/*
							//MOMQ
							var momqIsAll = $('input[name="chk_momq_ad_receive_agree"]').is(':checked');
							var momqCheck = false;
							$.each($('.select_chk.MOMQ input[type="checkbox"]'), function() {
									if (momqCheck == false) {
											momqCheck = $(this).is(':checked');
									}
							}); 
							$('input[name="chk_momq_ad_receive_agree"]').prop('checked', momqCheck);
							//YKBRAND
							var ykbrandIsAll = $('input[name="chk_ykbrand_ad_receive_agree"]').is(':checked');
							var ykbrandCheck = false;
							$.each($('.select_chk.YKBRAND input[type="checkbox"]'), function() {
									if (ykbrandCheck == false) {
											ykbrandCheck = $(this).is(':checked');
									}
							}); 
							$('input[name="chk_ykbrand_ad_receive_agree"]').prop('checked', ykbrandCheck);
							//MYGF
							var mygfIsAll = $('input[name="chk_mygf_ad_receive_agree"]').is(':checked');
							var mygfCheck = false;
							$.each($('.select_chk.MYGF input[type="checkbox"]'), function() {
									if (mygfCheck == false) {
											mygfCheck = $(this).is(':checked');
									}
							}); 
							$('input[name="chk_mygf_ad_receive_agree"]').prop('checked', mygfCheck);
							*/
					});
					//약관동의 선택 action
					$(document).on('click', '.terms_chk input[type="checkbox"]', function() {
							// 마케팅 목적 이용을 체크해야 광고성정보 수신 동의 가능
							if (/(.*)_marketing_agree/.test($(this).prop('name'))) {
									var siteCode = $(this).attr('name').substring(4).replace('_marketing_agree', '').toLowerCase();
									var adReceiveAgreeChecked = false;
									$.each($('.select_chk.'+ siteCode.toUpperCase() +' input[type="checkbox"]'), function() {
											if (adReceiveAgreeChecked == false) {
													adReceiveAgreeChecked = $(this).is(':checked');
											}
									}); 
									if (! alertAdInfoReceiveAgreeValidate(siteCode, adReceiveAgreeChecked)) {
											$(this).prop('checked', !adReceiveAgreeChecked);
											return false;
									}
							}
							var isAll = $('#allchk').is(':checked');
							var check = true;
							$.each($('.terms_chk input[type="checkbox"]'), function() {
									if ($(this).prop('id') == 'allchk') return true;
									if (check) {
											check = $(this).is(':checked');
									}
									var hidden = $(this).parent().find('input[type="hidden"]');
									if ($(this).is(':checked')) {
											hidden.val('Y');
									} else {
											hidden.val('N');
									}
							}); 
							$('#allchk').prop('checked', check);
					});
					//라디오 이벤트 for는 중복 아이디라서 사용 불가
					$(document).on('click', '.forLabel', function() {
							//$(this).parent().find('input:radio[name="labor"]').prop('checked', true).change();
					});
			});
			function formSubmitValid() {
					//form validate
					var f = $('form[name="join_form"]');
					var _password = $('[name="password"]', f);
				var _userid = $('[name="userid"]', f);
					if ($('input[name="userid"]', f).val() == '') {
							alert('아이디를 입력해주세요.');
							$('input[name="userid"]').focus();
							return false;
					}
					if ($('input[name="useExistId"]', f).val() == 'N') {
							alert('아이디 중복확인을 해주세요.');
							$('input[name="userid"]').focus();
							return false;
					}
					if ($('input[name="password"]', f).val() == '') {
							alert('비밀번호를 입력해주세요.');
							$('input[name="password"]').focus();
							return false;
					}
					//비밀번호 조건 아이디와 3자리 이상 중복되거나 1234 같은 4자리 이상의 연속되는 숫자 제한
					//영문 숫자 특수문자 조합으로 입력 ( 대/소문자 기준은 없음 )
					if (checkPasswordPatternComp($.trim(_password.val()), $.trim(_userid.val())) == false) {
							alert('아이디와 3자리 이상 중복값 및 4자리 이상의 연속되는 숫자는 사용이 불가합니다.');
					_password.focus();
							return false;
					}
					if ($('input[name="password_confirmation"]', f).val() == '') {
							alert('비밀번호확인을 입력해주세요.');
							$('input[name="password_confirmation"]').focus();
							return false;
					}
					if ($('input[name="password"]', f).val() != $('input[name="password_confirmation"]', f).val()) {
							alert('비밀번호와 비밀번호 확인이 일치하지 않습니다.');
							$('input[name="password"]').focus();
							return false;
					}
					if ($('input[name="email_id"]', f).val() == '') {
							alert('이메일을 입력해주세요.');
							$('input[name="email_id"]').focus();
							return false;
					}
					if ($('input[name="email_host"]', f).val() == '') {
							alert('이메일을 입력해주세요.');
							$('input[name="email_host"]').focus();
							return false;
					}
					if ($('input[name="chk_sso_terms_agree"]', f).is(':checked') == false) {
							alert('유한킴벌리 통합회원 필수 약관에 동의해주세요.');
							$('input[name="chk_sso_terms_agree"]').focus();
							return false;
					}
					if ($('input[name="chk_sso_privacy_agree"]', f).is(':checked') == false) {
							alert('유한킴벌리 통합회원 필수 약관에 동의해주세요.');
							$('input[name="chk_sso_privacy_agree"]').focus();
							return false;
					}
					if($('input[name=recommender_code]').length && !$('input[name=recommender_code]').val().trim()){
							if(confirm('추천인을 입력하시면 적립금 혜택을 받으실 수 있습니다.\n추천인 입력을 원하시면[확인] 버튼을 눌려주세요.\n\n*회원가입 완료 이후에는 추천인 입력이 불가하니 유의해주세요')){
									$('input[name="recommender_code_text"]').focus();
									return false;
							}
					}
					var required = true;
					$.each($('.required', f), function() {
							if ($(this).is(':checked') == false) {
									alert('필수 약관에 동의해주세요.');
									$(this).focus();
									required = false;
									return false;
							}
					});
					if (required == false) {
							return false;
					}
					/*
									if ($('input[name="chk_ykbrand_terms_agree"]').length > 0 && $('input[name="chk_ykbrand_terms_agree"]').is(':checked') == false) {
									alert('[YKBRAND] 필수 약관에 동의해주세요.');
									$('input[name="chk_ykbrand_terms_agree"]').focus();
									return false;
							}
							if ($('input[name="chk_ykbrand_privacy_agree"]').length > 0 && $('input[name="chk_ykbrand_privacy_agree"]').is(':checked') == false) {
									alert('[YKBRAND] 필수 약관에 동의해주세요.');
									$('input[name="chk_ykbrand_privacy_agree"]').focus();
									return false;
							}
							*/
					//childs validate
					if ($('input[name="childYN"]').length > 0 && $('input[name="childYN"]:checked').val() == 'Y') {
							var childsEl = childs.data.el;
							$('input[name="child_info"]', f).val(JSON.stringify(childs.data));
							if ($('input[name="chk_momq_children_info_agree"]').is(':checked') == false) {
									alert('개인정보 수집이용 동의에 체크해주세요');
									$('input[name="chk_momq_children_info_agree"]').focus();
									return false;
							}
					}
					return true;
			}
			function formSubmit() {
					if (formSubmitValid() == false) {
							return false;
					}
					if ($('input[name="childYN"]').length > 0 && $('input[name="childYN"]:checked').val() == 'Y') {
							$('input[name="child_info"]', 'form[name="join_form"]').val(JSON.stringify(childs.data));
					}
					$('input[name=password], input[name=password_confirmation]').attr('type','password');
					$('form[name="join_form"]').submit();
					/*
					var f = $('form[name="join_form"]');
					$.ajax({
							url: '/account/register',
							type: 'post',
							dataType: 'json',
							data: f.serialize(),
							success: function(res) {
									if (res.success != true) {
											alert(res.errors);
									}
							}
					});
					*/
			}
			$('.btn_masking').on('mousedown touchstart', function(){
    event.preventDefault();
    $('.btn_masking i').toggleClass('ic_hide');
    $('.btn_masking i').toggleClass('ic_show');
    if($('input[name=password]').attr('type') == 'password'){
        $('input[name=password], input[name=password_confirmation]').attr('type','text');
    }else{
        $('input[name=password], input[name=password_confirmation]').attr('type','password');
    }
});
		</script>
	</div>
</div>
</body>
</html>